name: Deploy GitHub Pages

on:
  push:
    branches: [ master ]
  workflow_dispatch:

permissions:
  contents: read
  pages: write
  id-token: write

concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      
      - name: Create HTML site
        run: |
          cat > index.html << 'EOF'
          <!DOCTYPE html>
          <html lang="en">
          <head>
              <meta charset="UTF-8">
              <meta name="viewport" content="width=device-width, initial-scale=1.0">
              <title>Reader Discovery Research - WE2.1.3</title>
              <style>
                  body { 
                      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; 
                      max-width: 800px; 
                      margin: 0 auto; 
                      padding: 2rem; 
                      line-height: 1.6; 
                  }
                  .header { 
                      text-align: center; 
                      border-bottom: 2px solid #eee; 
                      padding-bottom: 2rem; 
                      margin-bottom: 2rem; 
                  }
                  .section { 
                      margin-bottom: 2rem; 
                      padding: 1.5rem; 
                      background: #f8f9fa; 
                      border-radius: 8px; 
                  }
                  .timeline { 
                      background: #e3f2fd; 
                      border-left: 4px solid #2196f3; 
                  }
                  ul { list-style-type: none; padding-left: 0; }
                  li { padding: 0.5rem 0; }
                  li:before { content: "â†’ "; color: #2196f3; font-weight: bold; }
              </style>
          </head>
          <body>
              <div class="header">
                  <h1>Reader Discovery Research</h1>
                  <p><strong>WE2.1.3 - Wikipedia Article & Section Creation Testing</strong></p>
                  <p>Unmoderated User Testing on Userlytics Platform</p>
              </div>

              <div class="section">
                  <h2>ðŸŽ¯ Research Objective</h2>
                  <p>Test how Wikipedia readers identify content gaps and suggest improvements in articles through unmoderated user testing.</p>
              </div>

              <div class="section">
                  <h2>ðŸ‘¥ Target Participants</h2>
                  <ul>
                      <li><strong>Age Range:</strong> 18-40 years</li>
                      <li><strong>Screening:</strong> Active Wikipedia readers</li>
                      <li><strong>Focus:</strong> Various reading frequencies and topics</li>
                  </ul>
              </div>

              <div class="section">
                  <h2>ðŸ§ª Testing Categories</h2>
                  <h3>Category 1: Knowledge Gap Communication</h3>
                  <p>How readers identify and articulate missing information in articles.</p>
                  
                  <h3>Category 2: Content Quality Flagging</h3>
                  <p>How readers identify and report problematic content.</p>
              </div>

              <div class="section timeline">
                  <h2>ðŸ“… Project Timeline</h2>
                  <ul>
                      <li><strong>Design Phase:</strong> Create test concepts and wireframes</li>
                      <li><strong>Test Plan:</strong> Develop questions and screening criteria</li>
                      <li><strong>Platform Setup:</strong> Configure Userlytics test environment</li>
                      <li><strong>Launch Target:</strong> September 12th, 2025</li>
                      <li><strong>Analysis:</strong> Post-test findings and recommendations</li>
                  </ul>
              </div>

              <div class="section">
                  <h2>ðŸ“Š Repository Structure</h2>
                  <ul>
                      <li><strong>design-concepts</strong> branch: Test designs and wireframes</li>
                      <li><strong>test-plan</strong> branch: Questions and screening criteria</li>
                      <li><strong>analysis-framework</strong> branch: Research analysis methods</li>
                  </ul>
              </div>

              <footer style="text-align: center; margin-top: 3rem; padding-top: 2rem; border-top: 1px solid #eee; color: #666;">
                  <p>Last updated: August 2025 | Research Team</p>
              </footer>
          </body>
          </html>
          EOF

      - name: Setup Pages
        uses: actions/configure-pages@v4
        
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v2
        with:
          path: '.'
          
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v3